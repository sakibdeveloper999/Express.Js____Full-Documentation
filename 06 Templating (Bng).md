
---

# ЁЯза ржзрж╛ржк рзз: Express.js ржП Templating тАФ рж╕ржорзНржкрзВрж░рзНржг ржмрж╛ржВрж▓рж╛ ржмрзНржпрж╛ржЦрзНржпрж╛

---

## ЁЯУШ ржЯрзЗржоржкрзНрж▓рзЗржЯрж┐ржВ (Templating) ржХрзА?

**Templating** ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ рж╕рж╛рж░рзНржнрж╛рж░ ржерзЗржХрзЗ **ржбрж╛ржЗржирж╛ржорж┐ржХ HTML ржкрзЗржЬ рждрзИрж░рж┐ ржХрж░рж╛** ржПржХржЯрж┐ **ржЯрзЗржоржкрзНрж▓рзЗржЯ ржЗржЮрзНржЬрж┐ржи** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

ржпржЦржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржерзЗржХрзЗ ржЕржирзБрж░рзЛржз ржкрж╛ржарж╛ржпрж╝, рждржЦржи Express рж╕рж╛рж░рзНржнрж╛рж░:

* ржПржХржЯрж┐ **template ржлрж╛ржЗрж▓** ржирзЗржпрж╝ (ржпрзЗржоржи `.ejs`, `.pug`, `.hbs`)
* рж╕рзЗржЯрж┐рж░ ржоржзрзНржпрзЗ **ржбрж╛ржЯрж╛ржмрзЗрж╕ ржмрж╛ рж╕рж╛рж░рзНржнрж╛рж░ ржбрзЗржЯрж╛** ржмрж╕рж╛ржпрж╝
* ржПржмржВ рждрзИрж░рж┐ ржХрж░рзЗ **ржЪрзВржбрж╝рж╛ржирзНржд HTML ржкрзЗржЬ**, ржпрж╛ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝ред

ржЕрж░рзНржерж╛рзО, ржПржХрзЗржХржЯрж╛ ржЗржЙржЬрж╛рж░ ржмрж╛ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржЕржирзБржпрж╛ржпрж╝рзА HTML ржЖрж▓рж╛ржжрж╛ рж╣ржмрзЗ, ржХрж┐ржирзНрждрзБ ржорзВрж▓ ржлрж╛ржЗрж▓ ржПржХржЗред

---

## ЁЯОп ржХрзЗржи Templating ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЛ?

| ржХрж╛рж░ржг                              | ржмрзНржпрж╛ржЦрзНржпрж╛                                                                     |
| --------------------------------- | ---------------------------------------------------------------------------- |
| ЁЯФБ **Dynamic Website**            | ржбрзЗржЯрж╛ ржЕржирзБржпрж╛ржпрж╝рзА ржкрзЗржЬ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ржпрж╝ (ржпрзЗржоржи ржкрзНрж░рзЛржбрж╛ржХрзНржЯ рж▓рж┐рж╕рзНржЯ, ржмрзНрж▓ржЧ, ржЗржЙржЬрж╛рж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓) |
| тЩ╗я╕П **Reusability**                | ржПржХржмрж╛рж░ рж╣рзЗржбрж╛рж░тАУржлрзБржЯрж╛рж░ рж▓рж┐ржЦрзЗ рж╕ржм ржкрзЗржЬрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝                              |
| тЪб **Server-Side Rendering (SSR)** | ржкрзНрж░ржержо рж▓рзЛржб ржжрзНрж░рзБржд рж╣ржпрж╝, SEO ржнрж╛рж▓рзЛ рж╣ржпрж╝                                            |
| тЬи **Clean Structure**             | ржХрзЛржб (logic) ржУ HTML (view) ржЖрж▓рж╛ржжрж╛ ржерж╛ржХрзЗ                                         |

---

## тЪЩя╕П Express.js ржХрзАржнрж╛ржмрзЗ Templating ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ

Express.js ржирж┐ржЬрзЗ HTML рждрзИрж░рж┐ ржХрж░рзЗ ржирж╛ред ржПржЯрж┐ ржЯрзЗржоржкрзНрж▓рзЗржЯ ржЗржЮрзНржЬрж┐ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

ржкрзБрж░рзЛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛:

1. ржЯрзЗржоржкрзНрж▓рзЗржЯ ржЗржЮрзНржЬрж┐ржи ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛ (EJS / Pug / Handlebars)
2. `app.set()` ржжрж┐ржпрж╝рзЗ рж╕рзЗржЯ ржХрж░рж╛
3. `/views` ржлрзЛрж▓рзНржбрж╛рж░рзЗ `.ejs` ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рж╛
4. `res.render()` ржжрж┐ржпрж╝рзЗ HTML рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛

---

## тЪТя╕П ржЙржжрж╛рж╣рж░ржг (EJS ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ)

### ЁЯзй ржкрзНрж░ржЬрзЗржХрзНржЯ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░

```
project/
 тФЬтФАтФА app.js
 тФФтФАтФА views/
      тФФтФАтФА index.ejs
```

### ЁЯза ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржХрзЛржб

#### рззя╕ПтГг ржЗржирж╕рзНржЯрж▓ ржХрж░рзЛ

```bash
npm install express ejs
```

#### рзия╕ПтГг app.js

```js
const express = require('express');
const app = express();

// EJS рж╕рзЗржЯ ржХрж░рж╛
app.set('view engine', 'ejs');

// ржПржХржЯрж┐ рж░рзБржЯ рждрзИрж░рж┐ ржХрж░рж╛
app.get('/', (req, res) => {
  res.render('index', { title: 'рж╣рзЛржо ржкрзЗржЬ', name: 'рж╕рж╛ржХрж┐ржм' });
});

// рж╕рж╛рж░рзНржнрж╛рж░ ржЪрж╛рж▓рж╛ржирзЛ
app.listen(3000, () => console.log('рж╕рж╛рж░рзНржнрж╛рж░ ржЪрж▓ржЫрзЗ http://localhost:3000'));
```

#### рзйя╕ПтГг views/index.ejs

```ejs
<!DOCTYPE html>
<html>
<head>
  <title><%= title %></title>
</head>
<body>
  <h1>рж╕рзНржмрж╛ржЧрждржо, <%= name %>!</h1>
</body>
</html>
```

ЁЯФ╣ ржпржЦржи рждрзБржорж┐ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ `http://localhost:3000` ржЦрзБрж▓рзЛ,
ржжрзЗржЦржмрзЗ тАФ **тАЬрж╕рзНржмрж╛ржЧрждржо, рж╕рж╛ржХрж┐ржм!тАЭ**

---

## ЁЯзй Template Logic тАФ Loop, If, Include

### тЬЕ рж▓рзБржк (Loop)

```ejs
<ul>
  <% products.forEach(p => { %>
    <li><%= p %></li>
  <% }) %>
</ul>
```

### тЬЕ ржХржирзНржбрж┐рж╢ржи (If)

```ejs
<% if (loggedIn) { %>
  <p>Welcome, <%= name %></p>
<% } else { %>
  <p>Please login first.</p>
<% } %>
```

### тЬЕ ржЗржиржХрзНрж▓рзБржб (Include)

`views/header.ejs`

```ejs
<header><h1>My Website</h1></header>
```

`views/index.ejs`

```ejs
<%- include('header') %>
<h2>Hello <%= name %></h2>
```

---

## ЁЯз▒ Layout ржмрзНржпржмрж╣рж╛рж░

ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг layout ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЗ рж╕ржм ржкрзЗржЬрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред

```ejs
<html>
  <head><title><%= title %></title></head>
  <body>
    <%- body %>
  </body>
</html>
```

---

## тЪб ржмрж╛рж╕рзНрждржм ржЬрзАржмржирзЗрж░ ржмрзНржпржмрж╣рж╛рж░

| ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░     | ржЙржжрж╛рж╣рж░ржг                              |
| --------------------- | ----------------------------------- |
| ЁЯУ░ **Blog**           | рж╕рж╛рж░рзНржнрж╛рж░ ржерзЗржХрзЗ ржкрзЛрж╕рзНржЯ рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛      |
| ЁЯЫТ **E-commerce**     | ржкрзНрж░рзЛржбрж╛ржХрзНржЯ рж▓рж┐рж╕рзНржЯ ржбрж╛ржЗржирж╛ржорж┐ржХржнрж╛ржмрзЗ ржжрзЗржЦрж╛ржирзЛ |
| ЁЯСитАНЁЯТ╗ **Dashboard**   | ржЗржЙржЬрж╛рж░ ржЯрзЗржмрж┐рж▓ рж░рзЗржирзНржбрж╛рж░                 |
| ЁЯУй **Email Template** | рж╕рж╛рж░рзНржнрж╛рж░ ржерзЗржХрзЗ ржЗржорзЗржЗрж▓ HTML рждрзИрж░рж┐        |
| ЁЯУК **Report/PDF**     | ржбрзЗржЯрж╛ ржерзЗржХрзЗ рж░рж┐ржкрзЛрж░рзНржЯ рждрзИрж░рж┐              |

---

## ЁЯФТ ржирж┐рж░рж╛ржкрждрзНрждрж╛

1. рж╕ржм рж╕ржоржпрж╝ `<%= %>` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ (HTML escape рж╣ржпрж╝)
2. `<%- %>` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ рж╢рзБржзрзБржорж╛рждрзНрж░ ржмрж┐рж╢рзНржмрж╕рзНржд HTML-ржПрж░ ржЬржирзНржп
3. ржЗржЙржЬрж╛рж░ ржЗржиржкрзБржЯ рж╕рж░рж╛рж╕рж░рж┐ ржЯрзЗржоржкрзНрж▓рзЗржЯрзЗ ржжрж┐ржУ ржирж╛
4. ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ caching ржЪрж╛рж▓рж╛ржУ:

   ```js
   app.set('view cache', true);
   ```

---

## тЪЩя╕П ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛рж░ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк

| ржзрж╛ржк | ржХрж╛ржЬ                                  |
| --- | ------------------------------------ |
| 1   | ржЯрзЗржоржкрзНрж▓рзЗржЯ ржЗржЮрзНржЬрж┐ржи ржЗржирж╕рзНржЯрж▓               |
| 2   | `app.set('view engine', 'ejs')`      |
| 3   | `/views` ржлрзЛрж▓рзНржбрж╛рж░рзЗ `.ejs` ржлрж╛ржЗрж▓ рждрзИрж░рж┐   |
| 4   | `res.render('file', {data})` ржмрзНржпржмрж╣рж╛рж░ |
| 5   | рж▓рзБржк, ржХржирзНржбрж┐рж╢ржи, include ржмрзНржпржмрж╣рж╛рж░        |
| 6   | layout ржУ partial ржмрзНржпржмрж╣рж╛рж░             |
| 7   | output escape ржХрж░рзЛ                    |
| 8   | caching ржЪрж╛рж▓рж╛ржУ                        |

---

## ЁЯПБ ржПржХ ржХржерж╛ржпрж╝ рж╕рж╛рж░рж╛ржВрж╢

**Templating in Express.js** рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржкржжрзНржзрждрж┐, ржпрзЗржЦрж╛ржирзЗ рж╕рж╛рж░рзНржнрж╛рж░ HTML ржЯрзЗржоржкрзНрж▓рзЗржЯ ржлрж╛ржЗрж▓рзЗрж░ ржоржзрзНржпрзЗ ржбрзЗржЯрж╛ ржмрж╕рж┐ржпрж╝рзЗ ржбрж╛ржЗржирж╛ржорж┐ржХ ржкрзЗржЬ рждрзИрж░рж┐ ржХрж░рзЗ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯрзЗ ржкрж╛ржарж╛ржпрж╝ тАФ ржПрждрзЗ ржХрзЛржб ржкрзБржиржГржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп, ржжрзНрж░рзБржд ржПржмржВ SEO-ржлрзНрж░рзЗржирзНржбрж▓рж┐ ржУржпрж╝рзЗржмржкрзЗржЬ рждрзИрж░рж┐ рж╣ржпрж╝ред

---

# ЁЯЪА ржзрж╛ржк рзи: EJS Product Page Demo Project

---

## ЁЯУБ ржлрж╛ржЗрж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░

```
ejs-product-demo/
 тФЬтФАтФА app.js
 тФЬтФАтФА package.json
 тФФтФАтФА views/
      тФЬтФАтФА index.ejs
      тФЬтФАтФА product.ejs
      тФФтФАтФА partials/
           тФЬтФАтФА header.ejs
           тФФтФАтФА footer.ejs
```

---

## ЁЯза ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржХрзЛржб

### 1я╕ПтГг app.js

```js
const express = require('express');
const path = require('path');
const app = express();

// рж╕рзЗржЯрж┐ржВрж╕
app.set('view engine', 'ejs');
app.set('views', path.join(__dirname, 'views'));

// ржбрзЗржЯрж╛ (ржбрж╛ржЯрж╛ржмрзЗрж╕ ржзрж░рзЛ)
const products = [
  { id: 1, name: 'iPhone 15', price: 1200, desc: 'Apple flagship phone' },
  { id: 2, name: 'Samsung S24', price: 950, desc: 'Samsung high-end phone' },
  { id: 3, name: 'Google Pixel 9', price: 899, desc: 'Clean Android experience' }
];

// рж░рзБржЯ: рж╣рзЛржо ржкрзЗржЬ
app.get('/', (req, res) => {
  res.render('index', { title: 'All Products', products });
});

// рж░рзБржЯ: ржПржХржХ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржкрзЗржЬ
app.get('/product/:id', (req, res) => {
  const product = products.find(p => p.id == req.params.id);
  if (!product) return res.status(404).send('Product not found');
  res.render('product', { title: product.name, product });
});

// рж╕рж╛рж░рзНржнрж╛рж░ ржЪрж╛рж▓рзБ
app.listen(3000, () => console.log('Server running on http://localhost:3000'));
```

---

### 2я╕ПтГг views/partials/header.ejs

```ejs
<header style="background:#111;color:#fff;padding:10px">
  <h1><a href="/" style="color:white;text-decoration:none;">ЁЯЫТ My Product Store</a></h1>
</header>
```

---

### 3я╕ПтГг views/partials/footer.ejs

```ejs
<footer style="background:#eee;text-align:center;padding:10px;margin-top:20px;">
  <p>┬й 2025 My Store. All Rights Reserved.</p>
</footer>
```

---

### 4я╕ПтГг views/index.ejs

```ejs
<!DOCTYPE html>
<html>
<head>
  <title><%= title %></title>
</head>
<body>
  <%- include('partials/header') %>

  <h2 style="margin:10px 0;">All Products</h2>

  <ul>
    <% products.forEach(p => { %>
      <li style="margin-bottom:10px;">
        <a href="/product/<%= p.id %>"><strong><%= p.name %></strong></a> - $<%= p.price %>
      </li>
    <% }) %>
  </ul>

  <%- include('partials/footer') %>
</body>
</html>
```

---

### 5я╕ПтГг views/product.ejs

```ejs
<!DOCTYPE html>
<html>
<head>
  <title><%= title %></title>
</head>
<body>
  <%- include('partials/header') %>

  <h2><%= product.name %></h2>
  <p><%= product.desc %></p>
  <p><strong>Price:</strong> $<%= product.price %></p>

  <a href="/">тмЕ Back to Products</a>

  <%- include('partials/footer') %>
</body>
</html>
```

---

## ЁЯзй ржХрзАржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛ржмрзЗ

1я╕ПтГг ржирждрзБржи ржлрзЛрж▓рзНржбрж╛рж░ ржмрж╛ржирж╛ржУ:

```bash
mkdir ejs-product-demo && cd ejs-product-demo
```

2я╕ПтГг ржЗржирж╕рзНржЯрж▓ ржХрж░рзЛ:

```bash
npm init -y
npm install express ejs
```

3я╕ПтГг ржЙржкрж░рзЗрж░ ржХрзЛржбржЧрзБрж▓рзЛ ржлрж╛ржЗрж▓ ржЕржирзБржпрж╛ржпрж╝рзА рж▓рж┐ржЦрзЗ рж░рж╛ржЦрзЛред
4я╕ПтГг рж░рж╛ржи ржХрж░рзЛ:

```bash
node app.js
```

5я╕ПтГг ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржпрж╛ржУ тЖТ
ЁЯФЧ **[http://localhost:3000](http://localhost:3000)**

тЬЕ рждрзБржорж┐ ржжрзЗржЦржмрзЗ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ рж▓рж┐рж╕рзНржЯред
тЬЕ ржХрзЛржирзЛ ржкрзНрж░рзЛржбрж╛ржХрзНржЯрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ ржбрж┐ржЯрзЗржЗрж▓ ржкрзЗржЬ ржЦрзБрж▓ржмрзЗред

---

## ЁЯПЖ рж╕рж╛рж░рж╛ржВрж╢

ржПржЗ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ рждрзБржорж┐ рж╢рж┐ржЦрж▓рзЗ тАФ

* ржХрзАржнрж╛ржмрзЗ Express.js ржП EJS ржЯрзЗржоржкрзНрж▓рзЗржЯ рж╕рзЗржЯ ржХрж░рждрзЗ рж╣ржпрж╝
* ржХрзАржнрж╛ржмрзЗ ржбрзЗржЯрж╛ ржкрж╛ржарж┐ржпрж╝рзЗ ржбрж╛ржЗржирж╛ржорж┐ржХ ржкрзЗржЬ ржмрж╛ржирж╛ржирзЛ ржпрж╛ржпрж╝
* ржХрзАржнрж╛ржмрзЗ partials (header/footer) reuse ржХрж░рж╛ ржпрж╛ржпрж╝
* ржХрзАржнрж╛ржмрзЗ ржПржХрж╛ржзрж┐ржХ ржкрзЗржЬ (index & product details) ржпрзБржХрзНржд ржХрж░рж╛ ржпрж╛ржпрж╝

---

